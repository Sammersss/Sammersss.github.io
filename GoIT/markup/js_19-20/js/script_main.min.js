$(function(a){a("#featured").orbit({bullets:!0,timer:!0,animation:"horizontal-slide",animationSpeed:1e3});var b=a(".menu__link");b.on("click",function(b){b.preventDefault(),a(this).addClass("menu__link--active").parent().siblings().find(".menu__link--active").removeClass("menu__link--active")}),a(".accordion__tab").on("click",function(){a(".accordion_article").hide(),a(".accordion__tab").removeClass("accordion__tab--active"),a(".accordion__title").removeClass("accordion__title--active"),a(this).siblings(".accordion_article").toggle(),a(this).toggleClass("accordion__tab--active"),a(this).children(".accordion__title").toggleClass("accordion__title--active")}),a('a[href^="#"]').bind("click.smoothscroll",function(b){b.preventDefault();var c=this.hash,d=a(c);a("html, body").stop().animate({scrollTop:d.offset().top},900,"swing",function(){window.location.hash=c})}),a(window).scroll(function(){a(this).scrollTop()>0?a("#scroller").fadeIn():a("#scroller").fadeOut()}),a("#scroller").click(function(){return a("body,html").animate({scrollTop:0},400),!1})}),function(a){a.fn.orbit=function(b){return b=a.extend({animation:"fade",animationSpeed:800,advanceSpeed:4e3,startClockOnMouseOut:!0,startClockOnMouseOutAfter:3e3,directionalNav:!0,captions:!0,captionAnimationSpeed:800,timer:!1,bullets:!1},b),this.each(function(){function c(a){function c(){k.eq(i).css({"z-index":1}),f=!1}var i=g,j=a;return i==j?!1:void(f||(f=!0,"next"==a?(g++,g==h&&(g=0)):"prev"==a?(g--,0>g&&(g=h-1)):(g=a,g>i?j="next":i>g&&(j="prev")),b.bullets&&A(),"fade"==b.animation&&(k.eq(i).css({"z-index":2}),k.eq(g).css({opacity:0,"z-index":3}).animate({opacity:1},b.animationSpeed,c),b.captions&&x()),"horizontal-slide"==b.animation&&(k.eq(i).css({"z-index":2}),"next"==j&&k.eq(g).css({left:d,"z-index":3}).animate({left:0},b.animationSpeed,c),"prev"==j&&k.eq(g).css({left:-d,"z-index":3}).animate({left:0},b.animationSpeed,c),b.captions&&x()),"vertical-slide"==b.animation&&(k.eq(i).css({"z-index":2}),"prev"==j&&k.eq(g).css({top:e,"z-index":3}).animate({top:0},b.animationSpeed,c),"next"==j&&k.eq(g).css({top:-e,"z-index":3}).animate({top:0},b.animationSpeed,c),b.captions&&x())))}var d,e,f,g=0,h=0,j=a(this).addClass("orbit"),k=j.find("img, a img");if(k.each(function(){var b=a(this),c=b.width();b=b.height(),j.width(c),d=j.width(),j.height(b),e=j.height(),h++}),k.eq(g).css({"z-index":3}),b.timer){j.append('<div class="timer"><span class="mask"><span class="rotator"></span></span><span class="pause"></span></div>');var l,m=a("div.timer");if(0!=m.length){var n,o=b.advanceSpeed/180,p=a("div.timer span.rotator"),q=a("div.timer span.mask"),r=a("div.timer span.pause"),s=0,t=function(){l=!0,r.removeClass("active"),n=setInterval(function(){var a="rotate("+s+"deg)";s+=2,p.css({"-webkit-transform":a,"-moz-transform":a,"-o-transform":a}),s>180&&(p.addClass("move"),q.addClass("move")),s>360&&(p.removeClass("move"),q.removeClass("move"),s=0,c("next"))},o)},u=function(){l=!1,clearInterval(n),r.addClass("active")};if(t(),m.click(function(){l?u():t()}),b.startClockOnMouseOut){var v;j.mouseleave(function(){v=setTimeout(function(){l||t()},b.startClockOnMouseOutAfter)}),j.mouseenter(function(){clearTimeout(v)})}}}if(b.captions){j.append('<div class="caption"><span class="orbit-caption"></span></div>');var w=j.children("div.caption").children("span").addClass("orbit-caption").show(),x=function(){var c=k.eq(g).attr("rel"),d=a("#"+c).html(),e=w.height()+20;w.attr("id","#"+c).html(d),d?w.parent().stop().animate({bottom:0},b.captionAnimationSpeed):w.parent().stop().animate({bottom:-e},b.captionAnimationSpeed)};x()}if(b.directionalNav){j.append('<div class="slider-nav"><span class="right">Right</span><span class="left">Left</span></div>'),m=j.children("div.slider-nav").children("span.left");var y=j.children("div.slider-nav").children("span.right");m.click(function(){b.timer&&u(),c("prev")}),y.click(function(){b.timer&&u(),c("next")})}if(b.bullets){j.append('<ul class="orbit-bullets"></ul>');var z=a("ul.orbit-bullets");for(i=0;i<h;i++)m=a("<li>"+i+"</li>"),a("ul.orbit-bullets").append(m),m.data("index",i),m.click(function(){b.timer&&u(),c(a(this).data("index"))});var A=function(){z.children("li").removeClass("active").eq(g).addClass("active")};A()}})}}(jQuery);